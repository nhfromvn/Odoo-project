<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shopify</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@2.6.14/dist/vue.min.js"></script>
    <link rel="stylesheet" href="/shopify/static/src/libs/fontawesome1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
          integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="/shopify/static/src/css/index.css">
    <link href="//netdna.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="/shopify">Nam</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/shopify">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/cart">Cart</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/xero">Xero</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link " aria-current="page" href="/shopify/fetch-product">Fetch Product</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/shopify/webhook-register">Webhook Register</a>
                </li>
            </ul>
            <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
        <div id="index-info">
            <span v-if="status_xero">Connected Xero</span>
            <span v-else>Disconnected Xero</span>
        </div>

    </div>
</nav>
<div class="content" style="display: flex">
    <div class="content-left">
        <div id="xero-connection">
            <label>List Connection</label>
            <table class="table table-bordered xero">
                <tr v-for="connect in listConnection">
                    <td v-if="connect.tenantId == isSelected" class="td-active"
                        @click="selectCompany(connect.tenantId)">[[connect.name]]
                    </td>
                    <td v-else @click="selectCompany(connect.tenantId)">[[connect.name]]</td>
                </tr>
            </table>

            <div v-if="isSelected">
                 <label>List Contact</label>
                <select class="setting-input-input" v-model="contactId">

                    <option v-for="contact in listContacts" v-bind:value="contact.ContactID"
                    >[[contact.Name]]
                    </option>
                </select>
            </div>
              <div v-if="isSelected">
                 <label>List Accounts</label>
                <select class="setting-input-input" v-model="accountId">

                    <option v-for="account in listAccounts" v-bind:value="account.AccountID"
                    >[[account.Name]]
                    </option>
                </select>
            </div>

        </div>
    </div>

    <div class="content-mid">
        <div class="inputs-wrapper">
            <input type="date" placeholder="dd-mm-yyyy" v-model="timePicker.startTime">
            <input type="date" placeholder="dd-mm-yyyy" v-model="timePicker.endTime">
            <!--                    <input type="button" value="Fetch" v-on:click="fetchProducts(timePicker.startTime, timePicker.endTime)">-->
            <!--                    <input type="button" value="Clear history" v-on:click="clearHistory()">-->
            <!--                    <div class="value-fetch">-->
            <!--                        <span>Quantity fetch: [[totalFetch]]</span>-->
            <!--                    </div>-->
            <div id="xero-orders">
                <table class="table table-striped table-bordered fetch-history">
                    <tbody>
                    <tr>
                        <th>Order</th>
                        <th>Order</th>
                    </tr>

                    <tr v-for="order in orders">
                        <td>[[order.name]]</td>
                        <td><span class="button-action button-action-register" v-on:click="synOrder(order.id)">Sync to Xero</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                  <button class="button-action button-action-register" v-on:click="syncAll()">Sync all order</button>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript" src="/shopify/static/src/js/load_info.js"></script>
<script type="text/javascript" src="/shopify/static/src/js/xero.js"></script>

</body>
</html>